# ディレクトリ構造

## プロジェクト構成

プロジェクトはバックエンド（Go/Gin）とフロントエンド（React）に分かれています。

## アプリケーションのディレクトリ構造

```
/
├── backend/                                # Goバックエンド
│   ├── cmd/                                # エントリーポイント
│   │   └── api/                            # APIサーバー
│   │       └── main.go                     # メインアプリケーション
│   │
│   ├── features/                           # 機能ごとのバーティカルスライス
│   │   ├── realtime_translation/           # リアルタイム翻訳機能
│   │   │   ├── controllers/                # APIエンドポイント
│   │   │   ├── services/                   # ビジネスロジック
│   │   │   ├── models/                     # データモデル
│   │   │   └── tests/                      # 機能単位のテスト
│   │   │
│   │   └── file_processing/                # ファイル処理機能
│   │       ├── controllers/                # APIエンドポイント
│   │       ├── services/                   # ビジネスロジック
│   │       ├── models/                     # データモデル
│   │       └── tests/                      # 機能単位のテスト
│   │
│   ├── shared/                             # 共通コンポーネント
│   │   ├── models/                         # 共通データモデル
│   │   ├── utils/                          # ユーティリティ関数
│   │   ├── constants/                      # 定数定義
│   │   └── errors/                         # カスタムエラー定義
│   │
│   ├── infrastructure/                     # 外部サービス連携
│   │   ├── storage/                        # Blobストレージ
│   │   └── speech/                         # Speech Service連携
│   │
│   ├── api/                                # API構成
│   │   ├── routes/                         # ルート定義
│   │   ├── middleware/                     # ミドルウェア
│   │   └── server.go                       # サーバー構成
│   │
│   └── tests/                              # テストコード
│       ├── integration/                    # 統合テスト
│       └── e2e/                            # エンドツーエンドテスト
│
├── frontend/                               # Reactフロントエンド
│   ├── public/                             # 静的ファイル
│   ├── src/                                # ソースコード
│   │   ├── components/                     # 共通UIコンポーネント
│   │   │   ├── common/                     # 汎用コンポーネント
│   │   │   └── layout/                     # レイアウトコンポーネント
│   │   │
│   │   ├── features/                       # 機能ごとのコンポーネント
│   │   │   ├── realtime-translation/       # リアルタイム翻訳UI
│   │   │   └── file-processing/            # ファイル処理UI
│   │   │
│   │   ├── hooks/                          # カスタムフック
│   │   ├── services/                       # APIサービス呼び出し
│   │   ├── utils/                          # ユーティリティ関数
│   │   ├── context/                        # Reactコンテキスト
│   │   ├── assets/                         # 画像・スタイルなど
│   │   ├── types/                          # TypeScript型定義
│   │   ├── App.tsx                         # アプリルート
│   │   └── index.tsx                       # エントリーポイント
│   │
│   ├── package.json                        # 依存関係
│   ├── tsconfig.json                       # TypeScript設定
│   └── tests/                              # フロントエンドテスト
│       ├── unit/                           # ユニットテスト
│       └── e2e/                            # E2Eテスト
│
└── docs/                                   # プロジェクトドキュメント
    ├── api/                                # API仕様書
    ├── setup/                              # セットアップガイド
    └── rules/                              # 開発ルール
```

## バーティカルスライスアーキテクチャの特徴（バックエンド）

### 機能別の独立性

各機能（feature）は独立した垂直スライスとして実装され、以下の特徴を持ちます：

- **自己完結性**: 各スライスは自身の責務に必要なすべてのレイヤー（コントローラー、サービス、モデル）を含む
- **関心の分離**: 機能ごとに明確な境界を持ち、責任範囲が明確
- **変更の局所化**: 機能変更が他の機能に影響しにくい設計

### チーム開発の最適化

- 機能ごとにチームを割り当て可能
- 並行開発の促進
- チーム間の結合度を低減

### 依存関係の管理

- 上位レベルの機能は下位レベルの機能に依存可能
- 循環依存を避けるための明確な階層構造
- `shared`ディレクトリで共通コンポーネントを提供

### テスト戦略

- 各機能スライス内でユニットテスト
- 機能間の連携は統合テストとE2Eテストでカバー
- テスト可能性を高める設計

## フロントエンドの構成（React）

### コンポーネント設計

- 共通UIコンポーネントと機能固有コンポーネントの分離
- 再利用可能なコンポーネントは`components/common`に配置
- 機能ごとのUIコンポーネントは`features`ディレクトリに配置

### 状態管理

- Reactコンテキストを使用した状態管理
- 必要に応じてReduxなどの状態管理ライブラリを導入可能

### バックエンド連携

- `services`ディレクトリにAPIクライアントを実装
- 各機能に対応するAPIサービスを定義
- 型安全なデータ交換のために`types`ディレクトリに型定義

### フロントエンドテスト

- コンポーネント単位のユニットテスト
- ユーザーフローを検証するE2Eテスト